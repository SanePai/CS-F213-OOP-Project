{% extends "core/base.html" %}
{% load crispy_forms_tags %}
{% block content %}

<center>
    <div class="content-section w-25 align-items-center"  style="position:relative;top:3em;">
       <form method="POST" enctype="multipart/form-data">
           <legend class="border-bottom mb-4">Edit prodcut - {{ prod.title }}</legend>
          {% csrf_token %}
          {{ form.non_field_errors }}
          <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.title.as_text}}
            </small>
            <input name="title" type="text" value="{{ prod.title }}" class="form-control {% if form.errors.title or form.non_field_errors %}border border-danger{% endif %}" />
         </div>
          <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.content.as_text}}
            </small>
             <input name="content" type="text" value="{{ prod.content }}" class="form-control {% if form.errors.content or form.non_field_errors %}border border-danger{% endif %}" placeholder="{% if prod.content != '' %}{{ prod.content }}{% else %}No Description given{% endif %}"/>
          </div>
          <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.stock.as_text}}
            </small>
            <input name="stock" type="number" class="form-control {% if form.errors.stock or form.non_field_errors %}border border-danger{% endif %}" value="{{ prod.stock }}"/>
         </div>
         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.tags.as_text}}
            </small>
            <select name="tags" class="form-control {% if form.errors.tags or form.non_field_errors %}border border-danger{% endif %}" value = "{{ prod.tags }}">
               <option value="vegetables" selected>Vegetables</option>
               
               <option value="fruits">Fruits</option>
               
               <option value="groceries">Groceries</option>
            </select>
         </div>

         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.price_per_unit.as_text}}
            </small>
            <select name="measurment_unit" class="form-control {% if form.errors.measurment_unit or form.non_field_errors %}border border-danger{% endif %}" value = "{{ prod.measurment_unit }}">
               <option value="kg">Kilograms</option>
               <option value="lb">Pounds(lb)</option>
               <option value="no">Number (Individual pieces)</option>
               <option value="bags">Bags</option>
            </select>
         </div>

         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.price_per_unit.as_text}}
            </small>
            <input name="price_per_unit" type="number" step = "0.01" min="0" id="form1Example1" class="form-control {% if form.errors.price_per_unit or form.non_field_errors %}border border-danger{% endif %}" value = "{{ prod.price_per_unit }}"/>
         </div>

         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.img.as_text}}
            </small>
            <input type="file" name="img" id="form1Example1" class="form-control {% if form.errors.img or form.non_field_errors %}border border-danger{% endif %}" accept="image/*">
         </div>
         <!-- Submit button -->
          <button type="submit" value="Save" class="btn btn-primary btn-block">Update product</button>
       </form>
       <br>
</div>
</center>
{% endblock content %}