{% extends "core/base.html" %}
{% load crispy_forms_tags %}
{% block content %}

<center>
   <div class="text-danger">
      {{form.non_field_errors.as_text}}
   </div>
    <div class="content-section w-25 align-items-center"  style="position:relative;top:3em;">
       <form method="POST" enctype="multipart/form-data">
           <legend class="border-bottom mb-4">Add a prodcut</legend>
          {% csrf_token %}
          <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.title.as_text}}
            </small>
            <input name="title" type="text" id="form1Example1" class="form-control {% if form.errors.title or form.non_field_errors %}border border-danger{% endif %}" placeholder="Product Title"/>
         </div>

          <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.content.as_text}}
            </small> 
            <input name="content" type="text" id="form1Example1" class="form-control {% if form.errors.content or form.non_field_errors %}border border-danger{% endif %}" placeholder="Description (optional)"/>
          </div>
         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.stock.as_text}}
            </small>
            <input name="stock" type="number" step = "1" min="0" id="form1Example1" class="form-control {% if form.errors.stock or form.non_field_errors %}border border-danger{% endif %}" placeholder="Stock"/>
         </div>

         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.tags.as_text}}
            </small>
            <select name="tags" class="form-control {% if form.errors.tags or form.non_field_errors %}border border-danger{% endif %}">
               <option value="vegetables" selected>Vegetables</option>
               
               <option value="fruits">Fruits</option>
               
               <option value="groceries">Groceries</option>
            </select>
         </div>

         <div class="form-group form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.measurment_unit.as_text}}
            </small>
            <select name="measurment_unit" class="form-control custom-select {% if form.errors.measurment_unit or form.non_field_errors %}border border-danger{% endif %}"> 
               <option value="kg" selected>Kilograms</option>
               <option value="lb">Pounds(lb)</option>
               <option value="no">Number (Individual pieces)</option>
               <option value="bags">Bags</option>
            </select>
         </div>

         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.price_per_unit.as_text}}
            </small>
            <input name="price_per_unit" type="number" step = "0.01" min="0" id="form1Example1" class="form-control {% if form.errors.price_per_unit or form.non_field_errors %}border border-danger{% endif %}" placeholder="Price Per Unit in Rupees"/>
         </div>

         <div class="form-outline mb-4">
            <small id="usernameHelp" class="text-danger">
               {{form.errors.img.as_text}}
            </small>
            <input type="file" name="img" id="form1Example1" class="form-control {% if form.errors.img or form.non_field_errors %}border border-danger{% endif %}" accept="image/*">
         </div>
         <!-- Submit button -->
          <button type="submit" class="btn btn-primary btn-block">Add product</button>
       </form>
       <br>
    <div class="border-top pt-3">
      <small class="text-muted">
      Update or add stock to a listed product <br>
      <a class="ml-2" href="{% url 'seller-prods' user.username %}">My Products</a>
      </small>
   </div>
</div>
 </center>
{% endblock content %}